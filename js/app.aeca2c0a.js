(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,g=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&g.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(g.length)g.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("ImageSearch")],1)},s=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"image-search m-8"},[n("h1",{staticClass:"text-left"},[e._v("Andres Betin - Image Search")]),n("div",{staticClass:"bg-indigo-900 py-4 lg:px-4"},[n("div",{staticClass:"p-2 items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex h-4",attrs:{role:"alert"}},[n("span",{staticClass:"flex rounded-full bg-indigo-500 uppercase px-2 py-1 text-xs font-bold mr-3"},[e._v(e._s(e.selectedImages))]),n("span",{staticClass:"font-semibold mr-2 text-left flex-auto"},[e._v("Elementos agregados")]),n("div",[n("div",{staticClass:"inline-flex text-right"},[n("button",{staticClass:"bg-gray-500 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l",on:{click:function(t){return e.clearSelectedImages()}}},[e._v("limpiar")]),n("button",{staticClass:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r",on:{click:function(t){return e.copyImages()}}},[e._v("copiar")])])])])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"appearance-none bg-gray-200 border-none w-full h-10 text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none mb-4 mt-4",attrs:{placeholder:"Ingresa texto para buscar imagenes"},domProps:{value:e.query},on:{keyup:e.search,input:function(t){t.target.composing||(e.query=t.target.value)}}}),e.loading?n("circle-4",{staticClass:"align-middle m-auto"}):e._e(),0===e.images.length?n("div",[n("h1",{staticClass:"text-left"},[e._v("No hay imagenes disponibles")])]):n("div",[n("ImageList",{staticClass:"align-middle"})],1)],1)},o=[],c=(n("a15b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"max-w-screen-xl text-center content-center m-auto"},[n("div",{staticClass:"grid col-gap-8",class:e.gridColsClass},e._l(e.imageMatrix,(function(t,a){return n("div",{key:a},e._l(t,(function(t){return n("div",{key:t.id,staticClass:"pb-4 text-center"},[n("div",{staticClass:"max-w-sm rounded overflow-hidden shadow-lg m-auto"},[n("img",{staticClass:"w-full",attrs:{src:t.urls.small,alt:t.alt_description}}),e.checkSelected(t)?n("div",{staticClass:"w-full px-2 py-4"},[n("button",{staticClass:"bg-blue-500 w-full text-white font-bold py-2 px-4 rounded opacity-50 cursor-not-allowed"},[e._v("Agregado!")])]):n("div",{staticClass:"w-full px-2 py-4"},[n("button",{staticClass:"bg-blue-500 w-full hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",on:{click:function(n){return e.selectImage(t)}}},[e._v("Agregar")])])])])})),0)})),0)])}),l=[],u=(n("cb29"),n("d81d"),n("45fc"),{name:"ImageList",data:function(){return{winWidth:0}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){this.winWidth=window.innerWidth},selectImage:function(e){this.$store.dispatch("addImage",e)},checkSelected:function(e){var t=this.$store.getters.selectedImages;return t.some((function(t){return t.id===e.id}))}},computed:{columns:function(){return this.winWidth<768?1:this.winWidth<1024?2:this.winWidth<1280?3:4},gridColsClass:function(){return"grid-cols-".concat(this.columns)},imageMatrix:function(){for(var e=Array(this.columns).fill().map((function(){return[]})),t=this.$store.getters.loadedImages,n=0,a=0;n<t.length;n++)n%this.columns===0&&(a=0),e[a++].push(t[n]);return e}}}),d=u,g=n("2877"),f=Object(g["a"])(d,c,l,!1,null,"9bcf04e4",null),p=f.exports,m=n("d58b"),h=n("4ae6"),v=n.n(h);a["a"].use(v.a);var b={name:"ImageSearch",data:function(){return{query:"",page:1,perPage:20}},computed:{loading:function(){return this.$store.getters.loadingStatus},images:function(){return this.$store.getters.loadedImages},selectedImages:function(){return this.$store.getters.selectedCount}},components:{ImageList:p,Circle4:m["a"]},methods:{search:function(){var e={query:this.query,page:this.page,perPage:this.perPage};this.$store.dispatch("getImages",e)},clearSelectedImages:function(){this.$store.dispatch("clearSelectedImages")},copyImages:function(){var e=this.$store.getters.linkList,t=e.join("\n");this.$clipboard(t)}}},y=b,I=Object(g["a"])(y,i,o,!1,null,"3d861156",null),x=I.exports,_={name:"App",components:{ImageSearch:x}},w=_,C=(n("034f"),Object(g["a"])(w,r,s,!1,null,null,null)),E=C.exports,S=(n("c96a"),n("2f62")),O=(n("d3b7"),n("ac1f"),n("25f0"),n("3ca3"),n("841c"),n("ddb0"),n("2b3d"),n("d4ec")),A=n("bee2"),L=function(){function e(){Object(O["a"])(this,e)}return Object(A["a"])(e,[{key:"sendGetRequest",value:function(e){return fetch(e).then((function(e){return e.json()}))}}]),e}(),j="M4h2fLH0CUHf2ifsx3jUJEgPuUff1nO4sgnVlkPJf84",k="https://api.unsplash.com/search/photos",P=function(){function e(){Object(O["a"])(this,e)}return Object(A["a"])(e,[{key:"getImages",value:function(e,t,n){var a=new URL(k),r={page:t,per_page:n,query:e,client_id:j};a.search=new URLSearchParams(r).toString();var s=new L;return s.sendGetRequest(a)}}]),e}(),M=new P;a["a"].use(S["a"]);var T=new S["a"].Store({state:{loading:!1,images:[],selectedImages:[]},mutations:{SET_LOADING:function(e,t){e.loading=t},FETCH_IMAGES:function(e,t){e.images=t},ADD_SELECTED_IMAGES:function(e,t){e.selectedImages.push(t)},CLEAR_SELECTED_IMAGES:function(e){e.selectedImages=[]}},actions:{getImages:function(e,t){e.commit("SET_LOADING",!0),M.getImages(t.query,t.page,t.perPage).then((function(t){e.commit("FETCH_IMAGES",t.results),e.commit("SET_LOADING",!1)})).catch((function(){e.commit("FETCH_IMAGES",[]),e.commit("SET_LOADING",!1)}))},clearSelectedImages:function(e){e.commit("CLEAR_SELECTED_IMAGES")},addImage:function(e,t){e.commit("ADD_SELECTED_IMAGES",t)}},getters:{loadedImages:function(e){return e.images},loadingStatus:function(e){return e.loading},selectedCount:function(e){return e.selectedImages.length},selectedImages:function(e){return e.selectedImages},linkList:function(e){return e.selectedImages.map((function(e){return e.urls.small}))}},modules:{}});n("c898");a["a"].config.productionTip=!1,new a["a"]({store:T,render:function(e){return e(E)}}).$mount("#app")},"85ec":function(e,t,n){},c898:function(e,t,n){}});
//# sourceMappingURL=app.aeca2c0a.js.map